@page
@model IndexModel
@inject IHttpContextAccessor contxt;

@using Microsoft.AspNetCore.Identity
@using AppSecPracticalAssignment.Model
@inject SignInManager<ApplicationUser> SignInManager

@{
    ViewData["Title"] = "Home page";
}

@{
    if (SignInManager.IsSignedIn(User))
    {
        <img src="@ViewData["Photo"]" alt="photo" />
        <ul>
            <li>Identity First Name: @User.Identity.Name</li>
            <li>First Name: @ViewData["FirstName"]</li>
            <li>Last Name: @ViewData["LastName"]</li>
            <li>Credit Card No: @ViewData["CreditCardNo"]</li>
            <li>Mobile No: @ViewData["MobileNo"]</li>
            <li>Billing Address: @ViewData["BillingAddress"]</li>
            <li>Shipping Address: @ViewData["ShippingAddress"]</li>
            <li>Email: @ViewData["Email"]</li>
            <li>Password: @ViewData["Password"]</li>
        </ul>
    }
    else
    {
        <p>Nothing to display. Please sign in.</p>
    }
}

@* <div>
    @functions {
        public int divide(int x, int y)
        {
            string errormessage;
            try
            {
                return x / y;
            }
            catch (DivideByZeroException d)
            {
                errormessage = d.ToString();
                WriteLiteral("<br />Cannot Divide by Zero Exception found <br /><br />");
                WriteLiteral("Additional Info <br /><br />" + errormessage);
                return 0;
            }
        }
    }

    <h3>Division of 10 / 5 is @divide(10, 5)</h3>
    <h3>Division of 10 / 0 is @divide(12, 0)</h3>

</div>
 *@